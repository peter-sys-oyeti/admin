(this["webpackJsonpquiz-admin"]=this["webpackJsonpquiz-admin"]||[]).push([[0],{414:function(e,t,n){e.exports=n(842)},842:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(68),c=n.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o,l=n(21),u=l.a.model("Quiz",{id:l.a.string,name:l.a.string}),s=l.a.model("QuizzesStore",{quizzes:l.a.array(u),quiz:l.a.maybe(u)}).actions((function(e){return{addQuiz:function(t){e.quizzes.push(t)},selectedQuiz:function(t){e.quiz=t}}})),m=l.a.model("Question",{id:l.a.string,quizId:l.a.string,content:l.a.string}),d=l.a.model("QuestionsStore",{questions:l.a.array(m),question:l.a.maybe(m)}).actions((function(e){return{addQuestion:function(t){e.questions.push(t)},selectedQuestion:function(t){e.question=t}}})),p=l.a.model("Answer",{id:l.a.string,questionId:l.a.string,content:l.a.string,type:l.a.string}),f=l.a.model("AnswersStore",{answers:l.a.array(p)}).actions((function(e){return{addAnswer:function(t){e.answers.push(t)}}})),E=l.a.model("RootStore",{quizzesStore:l.a.optional(s,{}),questionsStore:l.a.optional(d,{}),answersStore:l.a.optional(f,{})}),z=n(152),b=n(51),v=n(189),q=n(156),g=new function e(){Object(v.a)(this,e);try{q.Parse.initialize("CVVTVt9Kt5vbiVtqguupCIgOc97VAM1Y3iaIlFGT","qCCOAKoyq3nPaU3EmM4twUD2tQIfTwIDjTmpoUyC"),q.Parse.serverURL="https://quizzes.back4app.io/",this.parse=q.Parse,this.client=new q.Parse.LiveQueryClient({applicationId:"CVVTVt9Kt5vbiVtqguupCIgOc97VAM1Y3iaIlFGT",serverURL:"wss://quizzes.back4app.io/",javascriptKey:"qCCOAKoyq3nPaU3EmM4twUD2tQIfTwIDjTmpoUyC",masterKey:"Qj3AD76jTrNV6F8g7eJm7cMP5YHRl6GQ4YaaOujW"}),this.client.open()}catch(t){}},h=function(e){(function(){var e=g.parse.Object.extend("Quizzes");return new g.parse.Query(e).limit(500).find()})().then((function(t){t.forEach((function(t){e.quizzesStore.addQuiz({id:t.id,name:t.get("name")})}))})),function(){var e=new g.parse.Query("Quizzes");return g.client.subscribe(e)}().on("create",(function(t){e.quizzesStore.addQuiz({id:t.id,name:t.get("name")})}))},w=function(e){(function(){var e=g.parse.Object.extend("Questions");return new g.parse.Query(e).limit(500).find()})().then((function(t){t.forEach((function(t){e.questionsStore.addQuestion({id:t.id,quizId:t.get("quizId"),content:t.get("content")})}))})),function(){var e=new g.parse.Query("Questions");return g.client.subscribe(e)}().on("create",(function(t){e.questionsStore.addQuestion({id:t.id,quizId:t.get("quizId"),content:t.get("content")})}))},j=function(e){(function(){var e=g.parse.Object.extend("Answers");return new g.parse.Query(e).limit(500).find()})().then((function(t){t.forEach((function(t){e.answersStore.addAnswer({id:t.id,questionId:t.get("questionId"),content:t.get("content"),type:t.get("type")})}))})),function(){var e=new g.parse.Query("Answers");return g.client.subscribe(e)}().on("create",(function(t){e.answersStore.addAnswer({id:t.id,questionId:t.get("questionId"),content:t.get("content"),type:t.get("type")})}))},O=n(378),y=n(400),I=n(379),Q=n(401),C=n(860),S=n(861),k=n(852),A=n(402),x=n(91),T=n(107),F=n(80),N=n(81),V=n(855),D=n(859),P=n(862),U=n(850),R=n(853),H=n(851),K=n(863),M=n(857),G=Object(b.b)("store")(Object(b.c)((function(e){var t=Object(a.useState)({name:""}),n=Object(N.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!1),l=Object(N.a)(o,2),u=l[0],s=l[1],m=e.store,d=e.history;return i.a.createElement(i.a.Fragment,null,i.a.createElement(S.a,{as:"h2",attached:"top"},i.a.createElement(V.a,{trigger:i.a.createElement(D.a,{content:"Quizzes",icon:"plus",label:{as:"a",basic:!0,content:m.quizzesStore.quizzes.length}}),position:"bottom left",on:"click"},i.a.createElement(P.a,{active:u,inverted:!0},i.a.createElement(U.a,{inverted:!0},"Saving")),i.a.createElement(R.a,null,i.a.createElement(R.a.Field,null,i.a.createElement("label",null,"New Quiz"),i.a.createElement("input",{value:r.name,id:"name",placeholder:"New Quiz",onChange:function(e){var t=e.target.value,n=e.target.id;c((function(e){return Object(F.a)({},e,Object(T.a)({},n,t))}))}})),i.a.createElement(H.a,null),i.a.createElement(D.a,{onClick:function(){var e;""==r.name||(s(!0),(e=r,(new(g.parse.Object.extend("Quizzes"))).save(e)).then((function(e){s(!1),c((function(e){return Object(F.a)({},e,{name:""})}))}),(function(e){console.log("failed to save")})))}},"Save")))),i.a.createElement(K.a,{attached:!0},i.a.createElement(M.a.Group,{itemsPerRow:3},m.quizzesStore.quizzes.map((function(e){return i.a.createElement(M.a,{key:e.id,raised:!0},i.a.createElement(M.a.Content,null,i.a.createElement(M.a.Header,null,e.name)),i.a.createElement(M.a.Content,{extra:!0},i.a.createElement("div",{className:"ui two buttons"},i.a.createElement(D.a,{basic:!0,color:"green",onClick:function(){m.quizzesStore.selectedQuiz({id:e.id,name:e.name}),d.push("/questions")}},"Add Question"))))})))))}))),Y=n(858),B=n(131),J=n(856),L=Object(b.b)("store")(Object(b.c)((function(e){var t=e.store;return Object(a.useEffect)((function(){}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(J.a,{celled:!0},i.a.createElement(J.a.Header,null,i.a.createElement(J.a.Row,null,i.a.createElement(J.a.HeaderCell,null,"Answer"),i.a.createElement(J.a.HeaderCell,null,"Type"))),i.a.createElement(J.a.Body,null,t.answersStore.answers.map((function(e){try{if(t.questionsStore.question.id===e.questionId)return i.a.createElement(J.a.Row,{key:e.id},i.a.createElement(J.a.Cell,null,e.content),i.a.createElement(J.a.Cell,null,e.type))}catch(n){}})))))}))),W=Object(b.b)("store")(Object(b.c)((function(e){var t=e.store,n=(e.history,Object(a.useState)(-1)),r=Object(N.a)(n,2),c=r[0],o=r[1],l=Object(a.useState)(!1),u=Object(N.a)(l,2),s=(u[0],u[1],Object(a.useState)({quizId:t.quizzesStore.quiz.id,content:""})),m=Object(N.a)(s,2),d=m[0],p=m[1],f=Object(a.useState)({questionId:"",content:"",type:""}),E=Object(N.a)(f,2),z=E[0],b=E[1],v=Object(a.useState)(!1),q=Object(N.a)(v,2),h=q[0],w=q[1],j=function(e){var t=e.target.value,n=e.target.id;b((function(e){return Object(F.a)({},e,Object(T.a)({},n,t))}))},O=function(e,t){var n=t.index;t.itemID;o(c===n?-1:n)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(K.a,{clearing:!0,attached:"top"},i.a.createElement(S.a,null,i.a.createElement(V.a,{trigger:i.a.createElement(D.a,{content:t.quizzesStore.quiz.name+" Quiz",icon:"plus",label:{as:"a",basic:!0,content:t.questionsStore.questions.length}}),position:"bottom left",on:"click"},i.a.createElement(P.a,{active:h,inverted:!0},i.a.createElement(U.a,{inverted:!0},"Saving")),i.a.createElement(R.a,null,i.a.createElement(R.a.Field,null,i.a.createElement("label",null,"New Question"),i.a.createElement("input",{value:d.content,id:"content",placeholder:"New Question",onChange:function(e){var t=e.target.value,n=e.target.id;p((function(e){return Object(F.a)({},e,Object(T.a)({},n,t))}))}})),i.a.createElement(H.a,null),i.a.createElement(D.a,{onClick:function(){var e;""===d.name||(w(!0),(e=d,(new(g.parse.Object.extend("Questions"))).save(e)).then((function(e){w(!1),p((function(e){return Object(F.a)({},e,{content:""})}))}),(function(e){console.log("failed to save")})))}},"Save"))))),i.a.createElement(K.a,{attached:!0},i.a.createElement(Y.a,{fluid:!0,styled:!0},t.questionsStore.questions.map((function(n,a){if(n.quizId===t.quizzesStore.quiz.id)return i.a.createElement(i.a.Fragment,{key:n.id},i.a.createElement(Y.a.Title,{active:c===a,itemID:n.id,index:a,onClick:O},i.a.createElement(B.a,{name:"dropdown",onClick:function(){t.questionsStore.selectedQuestion({id:n.id,quizId:n.quizId,content:n.content})}}),i.a.createElement(V.a,{trigger:i.a.createElement(D.a,{content:n.content,icon:"question",label:{as:"a",basic:!0,content:"Add Answer"},onClick:function(){b((function(e){return Object(F.a)({},e,{questionId:n.id})})),t.questionsStore.selectedQuestion({id:n.id,quizId:n.quizId,content:n.content})}}),position:"bottom left",on:"click"},i.a.createElement(P.a,{active:h,inverted:!0},i.a.createElement(U.a,{inverted:!0},"Saving")),i.a.createElement(R.a,null,i.a.createElement(R.a.Field,null,i.a.createElement("label",null,"New Answer"),i.a.createElement("input",{value:z.content,id:"content",placeholder:"New Answer",onChange:j})),i.a.createElement(R.a.Field,null,i.a.createElement("label",null,"Answer Type"),i.a.createElement("input",{value:z.type,id:"type",placeholder:"Answer Type",onChange:j})),i.a.createElement(H.a,null),i.a.createElement(D.a,{onClick:function(){var e;""===z.content||(w(!0),(e=z,(new(g.parse.Object.extend("Answers"))).save(e)).then((function(e){w(!1),b((function(e){return Object(F.a)({},e,{content:""})}))}),(function(e){console.log("failed to save")})))}},"Save")))),i.a.createElement(Y.a.Content,{active:c===a},i.a.createElement(L,{props:e})))})))))}))),$={root:{display:"flex",minHeight:"100vh"},appContent:{flex:1,display:"flex",flexDirection:"column"},mainContent:{flex:1,padding:"48px 36px 0",background:"#eaeff1",position:"relative"}},X=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(y.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(i)))).state={activeItem:"quizzes"},n.handleItemClick=function(e,t){var a=t.name;n.setState({activeItem:a})},n}return Object(Q.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props;e.children,e.store;return i.a.createElement("div",{className:$.root},i.a.createElement("div",{className:$.appContent},i.a.createElement(C.a,{pointing:!0,fixed:"top"},i.a.createElement(C.a.Item,null,i.a.createElement(S.a,{size:"small"},"Quizzes Admin")),i.a.createElement(C.a.Item,{name:"quizzes",active:"quizzes"===this.state.activeItem,onClick:this.handleItemClick,as:z.b,to:"/quizzes"}),i.a.createElement(C.a.Menu,{position:"right"},i.a.createElement(C.a.Item,{name:"reports",active:"reports"===this.state.activeItem,onClick:this.handleItemClick}))),i.a.createElement("main",{className:$.mainContent},i.a.createElement(i.a.Fragment,null,i.a.createElement(k.a,{style:{marginTop:"5em"}},i.a.createElement(x.c,null,i.a.createElement(x.a,{path:"/quizzes",component:G}),i.a.createElement(x.a,{path:"/questions",component:W})))))))}}]),t}(i.a.Component),Z=Object(A.a)(b.c,Object(b.b)("store"))(X),_=(n(841),E.create({}));h(o=_),w(o),j(o),c.a.render(i.a.createElement(b.a,{store:_},i.a.createElement(z.a,null,i.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[414,1,2]]]);
//# sourceMappingURL=main.de65b386.chunk.js.map